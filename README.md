# Localizer: a solver for the point realizability problem

The 'realizability problem' is a well-known hard problem in computational geometry, consisting of receiving a set of constraints on the relative positions of points in the plane and determining whether there exists a configuration of points in general position that satisfies all the constraints. **Localizer** is a local-search solver for this problem. In particular, **Localizer** receives a set of constraints of the form `A_(i, j, k)`, or `B_(i, j, k)`, where `A_(i, j, k)` means that point `i` is above the directed line from point `j` to point `k`, and `B_(i, j, k)` means that point `i` is below the directed line from point `j` to point `k`. Equivalently, `A_(i, j, k)` is equivalent to Knuth's CC relation (see https://link.springer.com/book/10.1007/3-540-55611-7). Formally,
`A_(i, j, k)` imposes a constraint on points $p_i = (x_i, y_i)$, $p_j = (x_j, y_j)$, and $p_k = (x_k, y_k)$ equivalent to:
```math
\text{det} \begin{pmatrix}
x_i & x_j & x_k \\
y_i & y_j & y_k \\ 1 & 1 & 1 
\end{pmatrix} > 0,
```
and `B_(i, j, k)` states that the determinant is strictly less than zero.

## Quick Start

```bash
# Build the executable
make -C src

# Run with an orientation file
src/localizer path/to/orientation_file.or -o solution.txt

# Plot the solution
python3 scripts/plotter.py --sol solution.txt
```


## Usage

```bash
./localizer <orientation_file> [-i <sub_iterations>] [-d <min_dist>] [-o <output_file>] [-s <seed>] [-r <reset_interval>] [-t <threads>] [-f <fixed_points_file>] [-c <symmetry_file>]
```

### Command Line Options

| Option | Description | Default Value |
|--------|-------------|---------------|
| `-i`   | Sub-iterations | 10 |
| `-d`   | Minimum distance between points | 0.25 |
| `-o`   | Output file path | output.txt |
| `-s`   | Random seed | 42 |
| `-r`   | Reset interval | N/A |
| `-t`   | Number of threads | 1 |
| `-f`   | Fixed points file | N/A |
| `-c`   | Symmetry file | N/A |

## Input Format

The orientation file must follow these rules:

1. Each line contains an "orientation" in the format `<O>(<a>, <b>, <c>)`.
2. `<O>` must be either "A" (above), "B" (below), or "C" (collinear). "C" is not currently well supported, as collinearities are harder to deal with. This is part of the future work of this repo.
3. The parameters `<a>`, `<b>`, `<c>` are positive integers where `1 <= a < b < c`.

For example, `A(2, 4, 7)` means point `2` is above the directed line from point `4` to point `7`.



## Visualization

Plot a solution generated by the localizer:

```bash
python3 scripts/plotter.py --sol <output_file>
```

This creates `<output_file>.png` with a visualization of the point set.

## Validation

Validate a solution against constraints:

```bash
python3 scripts/validator.py -c <constraint_file> -p <point_file>
```

## Running Benchmarks

Execute the benchmark suite:

```bash
python3 scripts/eval_benchmarks.py [-b] [-L <lower_N>] [-R <upper_N>] [-n <iterations>] [-t <timeout>]
```
